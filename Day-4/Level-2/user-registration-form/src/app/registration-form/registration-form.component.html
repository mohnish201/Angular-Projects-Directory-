<h1 class="text-3xl text-center font-sans font-medium text-blue-700 mt-5 mb-3">
  Registration Form
</h1>

<form
  #userForm="ngForm"
  (ngSubmit)="onSubmit()"
  class="w-1/3 bg-slate-950 text-white outline outline-5 outline-blue-400 border border-black rounded-xl mt-10 outline-offset-4 ... m-auto p-6"
>
  <!-- {{userForm.value | json}} -->

  <div class="relative z-0 w-full mb-6 group">
    <input
      type="email"
      #email="ngModel"
      [(ngModel)]="userModel.email"
      name="email"
      required
      id="email"
      class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-400 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-400 peer"
      placeholder=""
      email
    />
    <label
      for="email"
      class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-400 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >Email address</label
    >
    <div
      *ngIf="email.invalid && (email.dirty || email.touched)"
      class="text-red-500 text-sm"
    >
      <div *ngIf="email.errors?.['required']">Email is required.</div>
      <div *ngIf="email.errors?.['email']">Invalid email format.</div>
    </div>
  </div>
  <div class="relative z-0 w-full mb-6 group">
    <input
      type="password"
      #password="ngModel"
      required
      [class.is-invalid]="password.invalid"
      [(ngModel)]="userModel.password"
      name="password"
      id="password"
      class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-400 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-400 peer"
      placeholder=" "
      required
      (input)="validatePassword()"
    />
    <label
      for="password"
      class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-400 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >Password</label
    >

    <div class="text-red-500 text-sm" *ngIf="isPassError">{{ passError }}</div>
    <div
      *ngIf="password.invalid && (password.dirty || password.touched)"
      class="text-red-500 text-sm"
    >
      <div *ngIf="password.errors?.['required']">Password is required.</div>
    </div>
  </div>
  <div class="relative z-0 w-full mb-6 group">
    <input
      type="password"
      [(ngModel)]="userModel.confirm_password"
      name="confirm_password"
      id="confirm_password"
      #confirmPassword="ngModel"
      class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-400 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-400 peer"
      placeholder=" "
      required
      (input)="confirmPasswordChecker()"
    />
    <label
      for="confirm_password"
      class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-400 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >Confirm password</label
    >

    <div class="text-red-500 text-sm" *ngIf="isPassMatch">
      {{ passMatch }}
    </div>
    <div
      *ngIf="
        confirmPassword.invalid &&
        (confirmPassword.dirty || confirmPassword.touched)
      "
      class="text-red-500 text-sm"
    >
      <div *ngIf="confirmPassword.errors?.['required']">
        Confirmation password is required.
      </div>
    </div>
  </div>
  <div class="grid md:grid-cols-2 md:gap-6">
    <div class="relative z-0 w-full mb-6 group">
      <input
        type="text"
        [(ngModel)]="userModel.first_name"
        name="first_name"
        #firstName="ngModel"
        id="first_name"
        class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-400 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-400 peer"
        placeholder=" "
        required
        minlength="3"
      />
      <label
        for="first_name"
        class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-400 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
        >First name</label
      >
      <div
        *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
        class="text-red-500 text-sm"
      >
        <div *ngIf="firstName.errors?.['required']">
          First name is required.
        </div>
        <div *ngIf="firstName.errors?.['minlength']">
          First name must be at least 3 characters long.
        </div>
      </div>
    </div>
    <div class="relative z-0 w-full mb-6 group">
      <input
        type="text"
        [(ngModel)]="userModel.last_name"
        name="last_name"
        id="last_name"
        #lastName="ngModel"
        class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-400 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-400 peer"
        placeholder=" "
        required
        minlength="3"
      />
      <label
        for="last_name"
        class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-400 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
        >Last name</label
      >

      <div
        *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
        class="text-red-500 text-sm"
      >
        <div *ngIf="lastName.errors?.['required']">Last name is required.</div>
        <div *ngIf="lastName.errors?.['minlength']">
          Last name must be at least 3 characters long.
        </div>
      </div>
    </div>
  </div>
  <div class="grid md:grid-cols-2 md:gap-6">
    <div class="relative z-0 w-full mb-6 group">
      <input
        type="tel"
        [(ngModel)]="userModel.phone"
        pattern="[0-9]{10}"
        name="phone"
        #phone="ngModel"
        id="phone"
        class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-400 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-400 peer"
        placeholder=" "
        required
        maxlength="10"
      />
      <label
        for="phone"
        class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-400 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
        >Phone number</label
      >
      <div
        *ngIf="phone.invalid && (phone.dirty || phone.touched)"
        class="text-red-500 text-sm"
      >
        <div *ngIf="phone.errors?.['pattern']">Invalid phone number format</div>
      </div>
    </div>

    <div>
      <label
        for=""
        [(ngModel)]="userModel.dob"
        name="dob"
        #dob="ngModel"
        (change)="checkAge(userModel.dob)"
        class="text-slate-500 text-sm"
        >Date of Birth</label
      ><br />
      <input type="date" class="text-xs text-white bg-blue-950" />
    </div>
  </div>
  <div class="flex flex-col items-start">
    <div class="relative z-0 w-full mb-6 group">
      <input
        type="file"
        (change)="onFileChange($event)"
        accept="image/png, image/jpeg, image/jpg"
        name="profile"
        id="profile"
        #profile="ngModel"
        [(ngModel)]="userModel.profile"
        class="block py-2.5 px-0 w-full text-xs text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
        placeholder=" "
        required
      />
      <label
        for="profile"
        class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
        >Upload Profile</label
      >
    </div>
    <div class="mb-3" *ngIf="imagePreview">
      <img [src]="imagePreview" alt="Image Preview" class="w-16" />
    </div>
  </div>

  <button
    type="submit"
    [disabled]="userForm.invalid"
    class="text-white disabled:bg-blue-400 disabled:cursor-not-allowed bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-400 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
  >
    Submit
  </button>
</form>
